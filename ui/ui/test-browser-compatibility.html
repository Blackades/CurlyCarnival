<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browser Compatibility Test - PHPNuxBill Modern UI</title>
    
    <!-- Bootstrap 3 (required dependency) -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    
    <!-- Modern UI Stylesheet -->
    <link rel="stylesheet" href="styles/phpnuxbill-modern.css">
    
    <style>
        body {
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 24px;
            margin-bottom: 24px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        .test-section h2 {
            margin-top: 0;
            padding-bottom: 12px;
            border-bottom: 1px solid #f0f0f0;
        }
        .browser-info {
            background: #e6f7ff;
            border: 1px solid #91d5ff;
            padding: 16px;
            border-radius: 4px;
            margin-bottom: 24px;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 16px;
        }
        .test-item {
            padding: 12px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
        }
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-pass { background-color: #52c41a; }
        .status-fail { background-color: #f5222d; }
        .status-warn { background-color: #faad14; }
    </style>
</head>
<body>
    <div class="container-fluid">
        <h1>Browser Compatibility Test Suite</h1>
        <p class="text-secondary">Test all modern UI features across different browsers</p>
        
        <!-- Browser Detection -->
        <div class="browser-info">
            <h3>Current Browser Information</h3>
            <p><strong>User Agent:</strong> <span id="userAgent"></span></p>
            <p><strong>Browser:</strong> <span id="browserName"></span></p>
            <p><strong>Version:</strong> <span id="browserVersion"></span></p>
            <p><strong>Platform:</strong> <span id="platform"></span></p>
            <p><strong>Screen Size:</strong> <span id="screenSize"></span></p>
        </div>

        <!-- Test 1: CSS Custom Properties -->
        <div class="test-section">
            <h2>Test 1: CSS Custom Properties (Variables)</h2>
            <p>Testing if CSS variables are supported and rendering correctly.</p>
            <div class="test-grid">
                <div class="test-item" style="background-color: var(--primary-color); color: white; padding: 20px;">
                    Primary Color
                </div>
                <div class="test-item" style="background-color: var(--success-color); color: white; padding: 20px;">
                    Success Color
                </div>
                <div class="test-item" style="background-color: var(--warning-color); color: white; padding: 20px;">
                    Warning Color
                </div>
                <div class="test-item" style="background-color: var(--danger-color); color: white; padding: 20px;">
                    Danger Color
                </div>
            </div>
            <p class="mt-lg"><span class="status-indicator status-pass"></span>If you see colored boxes above, CSS variables work!</p>
        </div>

        <!-- Test 2: Form Controls -->
        <div class="test-section">
            <h2>Test 2: Form Controls</h2>
            <p>Testing modern form input styling and interactions.</p>
            
            <div class="form-group">
                <label>Text Input</label>
                <input type="text" class="form-control" placeholder="Type something...">
            </div>
            
            <div class="form-group">
                <label>Select Dropdown</label>
                <select class="form-control">
                    <option>Option 1</option>
                    <option>Option 2</option>
                    <option>Option 3</option>
                </select>
            </div>
            
            <div class="checkbox">
                <label>
                    <input type="checkbox"> Custom styled checkbox
                </label>
            </div>
            
            <div class="radio">
                <label>
                    <input type="radio" name="test-radio"> Custom styled radio button
                </label>
            </div>
            
            <p class="mt-lg"><span class="status-indicator status-pass"></span>Check if inputs have modern styling with proper focus states</p>
        </div>

        <!-- Test 3: Buttons -->
        <div class="test-section">
            <h2>Test 3: Button Styles</h2>
            <p>Testing button variants and hover states.</p>
            
            <div class="btn-toolbar">
                <button class="btn btn-primary">Primary</button>
                <button class="btn btn-success">Success</button>
                <button class="btn btn-warning">Warning</button>
                <button class="btn btn-danger">Danger</button>
                <button class="btn btn-info">Info</button>
                <button class="btn btn-default">Default</button>
            </div>
            
            <p class="mt-lg"><span class="status-indicator status-pass"></span>Hover over buttons to test smooth transitions</p>
        </div>

        <!-- Test 4: User Select (Safari Test) -->
        <div class="test-section">
            <h2>Test 4: User Select Property</h2>
            <p>Testing if text selection is properly disabled on interactive elements.</p>
            
            <div class="checkbox">
                <label>
                    <input type="checkbox"> Try to select this text - it should not be selectable
                </label>
            </div>
            
            <button class="btn btn-primary">Try to select this button text</button>
            
            <p class="mt-lg"><span class="status-indicator status-warn"></span>If you can select the text above, user-select may not be working (Safari issue)</p>
        </div>

        <!-- Test 5: Flexbox Gap (Safari < 14.1 Test) -->
        <div class="test-section">
            <h2>Test 5: Flexbox Gap Property</h2>
            <p>Testing if gap property works in flexbox layouts.</p>
            
            <div class="btn-toolbar">
                <button class="btn btn-default">Button 1</button>
                <button class="btn btn-default">Button 2</button>
                <button class="btn btn-default">Button 3</button>
                <button class="btn btn-default">Button 4</button>
            </div>
            
            <p class="mt-lg"><span class="status-indicator status-pass"></span>Buttons should have consistent spacing between them</p>
        </div>

        <!-- Test 6: SVG Data URIs -->
        <div class="test-section">
            <h2>Test 6: SVG Data URIs in CSS</h2>
            <p>Testing if SVG icons render correctly in form controls.</p>
            
            <div class="form-group">
                <label>Select with Custom Arrow</label>
                <select class="form-control">
                    <option>Check if dropdown arrow appears</option>
                    <option>Option 2</option>
                    <option>Option 3</option>
                </select>
            </div>
            
            <div class="checkbox">
                <label>
                    <input type="checkbox" checked> Check if checkmark appears when checked
                </label>
            </div>
            
            <p class="mt-lg"><span class="status-indicator status-pass"></span>Custom icons should render in select and checkbox</p>
        </div>

        <!-- Test 7: Box Shadow and Border Radius -->
        <div class="test-section">
            <h2>Test 7: Box Shadow & Border Radius</h2>
            <p>Testing modern shadow and rounded corner effects.</p>
            
            <div class="test-grid">
                <div class="panel">
                    <div class="panel-body">
                        Card with shadow
                    </div>
                </div>
                <div class="panel">
                    <div class="panel-body">
                        Rounded corners
                    </div>
                </div>
            </div>
            
            <p class="mt-lg"><span class="status-indicator status-pass"></span>Cards should have subtle shadows and rounded corners</p>
        </div>

        <!-- Test 8: Transitions and Animations -->
        <div class="test-section">
            <h2>Test 8: CSS Transitions</h2>
            <p>Testing smooth transitions on interactive elements.</p>
            
            <button class="btn btn-primary" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'" style="transition: transform 0.3s;">
                Hover me for scale effect
            </button>
            
            <p class="mt-lg"><span class="status-indicator status-pass"></span>Button should smoothly scale on hover</p>
        </div>

        <!-- Test 9: Font Smoothing -->
        <div class="test-section">
            <h2>Test 9: Font Rendering</h2>
            <p>Testing if font smoothing is applied correctly.</p>
            
            <h1>Heading 1 - Font Smoothing Test</h1>
            <h2>Heading 2 - Font Smoothing Test</h2>
            <p>Body text should render with antialiasing for smooth appearance.</p>
            
            <p class="mt-lg"><span class="status-indicator status-pass"></span>Text should appear smooth and crisp</p>
        </div>

        <!-- Test 10: Responsive Design -->
        <div class="test-section">
            <h2>Test 10: Responsive Behavior</h2>
            <p>Resize your browser window to test responsive breakpoints.</p>
            
            <div class="alert alert-info">
                <strong>Current Viewport:</strong> <span id="viewportSize"></span>
            </div>
            
            <p><span class="status-indicator status-pass"></span>Layout should adapt at 768px (tablet) and 375px (mobile)</p>
        </div>

        <!-- Test Results Summary -->
        <div class="test-section">
            <h2>Test Results Summary</h2>
            <p>Manual verification checklist:</p>
            <ul>
                <li>✅ CSS Variables render correctly</li>
                <li>✅ Form controls have modern styling</li>
                <li>✅ Buttons display with correct colors</li>
                <li>✅ User-select works on labels and buttons</li>
                <li>✅ Flexbox gap spacing is consistent</li>
                <li>✅ SVG icons render in form controls</li>
                <li>✅ Shadows and rounded corners display</li>
                <li>✅ Transitions are smooth</li>
                <li>✅ Font rendering is crisp</li>
                <li>✅ Responsive design works at all breakpoints</li>
            </ul>
        </div>
    </div>

    <script>
        // Browser Detection
        function detectBrowser() {
            const ua = navigator.userAgent;
            let browserName = "Unknown";
            let browserVersion = "Unknown";
            
            if (ua.indexOf("Firefox") > -1) {
                browserName = "Firefox";
                browserVersion = ua.match(/Firefox\/([0-9.]+)/)[1];
            } else if (ua.indexOf("Edg") > -1) {
                browserName = "Edge (Chromium)";
                browserVersion = ua.match(/Edg\/([0-9.]+)/)[1];
            } else if (ua.indexOf("Chrome") > -1) {
                browserName = "Chrome";
                browserVersion = ua.match(/Chrome\/([0-9.]+)/)[1];
            } else if (ua.indexOf("Safari") > -1) {
                browserName = "Safari";
                browserVersion = ua.match(/Version\/([0-9.]+)/)[1];
            }
            
            document.getElementById('userAgent').textContent = ua;
            document.getElementById('browserName').textContent = browserName;
            document.getElementById('browserVersion').textContent = browserVersion;
            document.getElementById('platform').textContent = navigator.platform;
            document.getElementById('screenSize').textContent = screen.width + ' x ' + screen.height;
            
            updateViewportSize();
        }
        
        function updateViewportSize() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            document.getElementById('viewportSize').textContent = width + ' x ' + height;
        }
        
        // Run on load
        detectBrowser();
        
        // Update viewport size on resize
        window.addEventListener('resize', updateViewportSize);
        
        // Test CSS Variables Support
        if (window.CSS && window.CSS.supports && window.CSS.supports('(--test: 0)')) {
            console.log('✅ CSS Variables are supported');
        } else {
            console.log('❌ CSS Variables are NOT supported');
            alert('WARNING: CSS Variables are not supported in this browser!');
        }
        
        // Test Flexbox Gap Support
        if (window.CSS && window.CSS.supports && window.CSS.supports('gap', '8px')) {
            console.log('✅ Flexbox gap is supported');
        } else {
            console.log('⚠️ Flexbox gap is NOT supported (fallback will be used)');
        }
    </script>
</body>
</html>
